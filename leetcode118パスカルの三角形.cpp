class Solution {
public:
    vector<vector<int>> generate(int numRows) {
        // 1. DP配列の定義と意味
        // ans[] は、これまで生成された行のデータを保持する2次元配列
        // つまり、ans[i] はパスカルの三角形の (i+1) 行目を表す

        // 2. 漸化式（再帰関係）の確立
        // 現在の行のj番目の要素は、前の行のj-1番目とj番目の和で計算される
        // cur[j] = ans[i-1][j-1] + ans[i-1][j];

        // 3. DP配列の初期化
        // 最初の2行は固定値で初期化される（0行目: [1], 1行目: [1, 1]）

        // 4. 遍歷順序の決定
        // 上から下へ（0行目からnumRows-1行目まで順番に生成）

        // 5. 結果の出力（ここでは返却するだけ）

        // 結果を保持する2次元配列
        vector<vector<int>> ans;

        // 行数分ループ
        for (int i = 0; i < numRows; i++) {
            // 現在の行を初期化（全要素を1で埋める）
            // パスカルの三角形では各行の最初と最後の要素は必ず1
            vector<int> cur(i + 1, 1);

            // 2行目以降の場合、中間の要素を計算
            for (int j = 1; j < i; j++) {
                // 前の行の隣接する2要素の和を取る
                cur[j] = ans[i - 1][j - 1] + ans[i - 1][j];
            }

            // 生成した行を結果に追加
            ans.push_back(cur);
        }

        // 完成したパスカルの三角形を返す
        return ans;
    }
};